{"uid":"b71b5622ec53a46","name":"test_verify_gmail_cards_synced_to_trello","fullName":"tests.api.test_sync_logic.TestGmailTrelloSync#test_verify_gmail_cards_synced_to_trello","historyId":"30efa6cf01f1f45a9a80ced753161313","time":{"start":1766998249223,"stop":1766998249464,"duration":241},"description":"\n        Task 2: Validate sync logic using a dedicated Logic Verifier.\n        ","descriptionHtml":"<pre><code>    Task 2: Validate sync logic using a dedicated Logic Verifier.\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Soft Assert failed with 14 errors. Check Allure report or logs for details.","statusTrace":"self = <allure_commons._allure.fixture object at 0x7f1bbb7e0bb0>, args = ()\nkwargs = {}\n\n    def __call__(self, *args, **kwargs):\n        self.parameters = func_parameters(self._fixture_function, *args, **kwargs)\n    \n        with self:\n>           return self._fixture_function(*args, **kwargs)\n\n/usr/local/lib/python3.10/dist-packages/allure_commons/_allure.py:231: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nconftest.py:30: in soft_assert\n    asserter.assert_all()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <infra.utils.soft_assert.SoftAssert object at 0x7f1bbb7e2290>\n\n    def assert_all(self):\n        \"\"\"\n        Raises an AssertionError if any errors were collected.\n        \"\"\"\n        if self._errors:\n            error_count = len(self._errors)\n            report = \"\\n\".join(self._errors)\n    \n            # Attach full report to Allure before crashing\n            allure.attach(report, name=\"Full Failure Report\", attachment_type=allure.attachment_type.TEXT)\n    \n>           raise AssertionError(f\"Soft Assert failed with {error_count} errors. Check Allure report or logs for details.\")\nE           AssertionError: Soft Assert failed with 14 errors. Check Allure report or logs for details.\n\ninfra/utils/soft_assert.py:44: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"trello_client","time":{"start":1766998249221,"stop":1766998249222,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766998249221,"stop":1766998249221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1766998249221,"stop":1766998249221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1766998249221,"stop":1766998249221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1766998249221,"stop":1766998249221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"gmail_client","time":{"start":1766998249221,"stop":1766998249221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"soft_assert","time":{"start":1766998249222,"stop":1766998249222,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Task 2: Validate sync logic using a dedicated Logic Verifier.\n        ","status":"failed","statusMessage":"AssertionError: Soft Assert failed with 14 errors. Check Allure report or logs for details.","statusTrace":"self = <allure_commons._allure.fixture object at 0x7f1bbb7e0bb0>, args = ()\nkwargs = {}\n\n    def __call__(self, *args, **kwargs):\n        self.parameters = func_parameters(self._fixture_function, *args, **kwargs)\n    \n        with self:\n>           return self._fixture_function(*args, **kwargs)\n\n/usr/local/lib/python3.10/dist-packages/allure_commons/_allure.py:231: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nconftest.py:30: in soft_assert\n    asserter.assert_all()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <infra.utils.soft_assert.SoftAssert object at 0x7f1bbb7e2290>\n\n    def assert_all(self):\n        \"\"\"\n        Raises an AssertionError if any errors were collected.\n        \"\"\"\n        if self._errors:\n            error_count = len(self._errors)\n            report = \"\\n\".join(self._errors)\n    \n            # Attach full report to Allure before crashing\n            allure.attach(report, name=\"Full Failure Report\", attachment_type=allure.attachment_type.TEXT)\n    \n>           raise AssertionError(f\"Soft Assert failed with {error_count} errors. Check Allure report or logs for details.\")\nE           AssertionError: Soft Assert failed with 14 errors. Check Allure report or logs for details.\n\ninfra/utils/soft_assert.py:44: AssertionError","steps":[{"name":"Step 1: Verify all Gmail cards exist in Trello with correct content","time":{"start":1766998249460,"stop":1766998249464,"duration":4},"status":"passed","steps":[{"name":"Soft Assert Failed: CONTENT MISMATCH in 'Clean up mail': Expected text...","time":{"start":1766998249460,"stop":1766998249461,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"e4ea4a69b597c11a","name":"Failure Details","source":"e4ea4a69b597c11a.txt","type":"text/plain","size":74}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Checking missing card: <built-in method title of str object at 0x7f1bbb82c210>","time":{"start":1766998249461,"stop":1766998249461,"duration":0},"status":"passed","steps":[{"name":"Soft Assert Failed: [MISSING CARD] 'Coffee break' exists in Gmail but ...","time":{"start":1766998249461,"stop":1766998249461,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"f2b3d20c7b7a44b4","name":"Failure Details","source":"f2b3d20c7b7a44b4.txt","type":"text/plain","size":64}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"expected","value":"CardModal(title='Coffee break', description='[cid:image001.png@01DB5BA8.B2AF7C40]', labels=['New'])"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Checking missing card: <built-in method title of str object at 0x7f1bbb80c8a0>","time":{"start":1766998249461,"stop":1766998249461,"duration":0},"status":"passed","steps":[{"name":"Soft Assert Failed: [MISSING CARD] 'If you see it on board this is not...","time":{"start":1766998249461,"stop":1766998249461,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"fcdad78325f20e3e","name":"Failure Details","source":"fcdad78325f20e3e.txt","type":"text/plain","size":94}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"expected","value":"CardModal(title='If you see it on board this is not good :(', description='', labels=['New'])"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Soft Assert Failed: LABEL MISMATCH: 'Have a great year' expected 'Urge...","time":{"start":1766998249461,"stop":1766998249461,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"4c92e38f71d6d8dd","name":"Failure Details","source":"4c92e38f71d6d8dd.txt","type":"text/plain","size":60}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Soft Assert Failed: CONTENT MISMATCH in 'Baking secrets': Expected tex...","time":{"start":1766998249462,"stop":1766998249462,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"a2c4143f82b5ab3c","name":"Failure Details","source":"a2c4143f82b5ab3c.txt","type":"text/plain","size":77}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Soft Assert Failed: CONTENT MISMATCH in 'Policy': Expected text 'A new...","time":{"start":1766998249462,"stop":1766998249462,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"f37b8919771e4250","name":"Failure Details","source":"f37b8919771e4250.txt","type":"text/plain","size":91}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Checking missing card: <built-in method title of str object at 0x7f1bbb7e81b0>","time":{"start":1766998249462,"stop":1766998249462,"duration":0},"status":"passed","steps":[{"name":"Soft Assert Failed: [MISSING CARD] 'RND gathering' exists in Gmail but...","time":{"start":1766998249462,"stop":1766998249462,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"9857904ed94ce1aa","name":"Failure Details","source":"9857904ed94ce1aa.txt","type":"text/plain","size":65}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"expected","value":"CardModal(title='RND gathering', description='', labels=['New'])"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Checking missing card: <built-in method title of str object at 0x7f1bbb80c930>","time":{"start":1766998249462,"stop":1766998249462,"duration":0},"status":"passed","steps":[{"name":"Soft Assert Failed: [MISSING CARD] 'End of the month Task:' exists in ...","time":{"start":1766998249462,"stop":1766998249462,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"a022bea5e565c726","name":"Failure Details","source":"a022bea5e565c726.txt","type":"text/plain","size":74}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"expected","value":"CardModal(title='End of the month Task:', description='This is good', labels=['New'])"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Soft Assert Failed: CONTENT MISMATCH in 'Sync with the new employees':...","time":{"start":1766998249462,"stop":1766998249463,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"be287f7ef61954b2","name":"Failure Details","source":"be287f7ef61954b2.txt","type":"text/plain","size":88}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Checking missing card: <built-in method title of str object at 0x7f1bbb7bce70>","time":{"start":1766998249463,"stop":1766998249463,"duration":0},"status":"passed","steps":[{"name":"Soft Assert Failed: [MISSING CARD] 'Celebrate the New Year' exists in ...","time":{"start":1766998249463,"stop":1766998249463,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"99cbe67550e1584c","name":"Failure Details","source":"99cbe67550e1584c.txt","type":"text/plain","size":74}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"expected","value":"CardModal(title='Celebrate the New Year', description='Donâ€™t forget to invite all of your friends', labels=['New'])"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Checking missing card: <built-in method title of str object at 0x7f1bbb82c5d0>","time":{"start":1766998249463,"stop":1766998249463,"duration":0},"status":"passed","steps":[{"name":"Soft Assert Failed: [MISSING CARD] 'Hi! and welcome to your new enviro...","time":{"start":1766998249463,"stop":1766998249463,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"afc2764c63ef0043","name":"Failure Details","source":"afc2764c63ef0043.txt","type":"text/plain","size":91}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"expected","value":"CardModal(title='Hi! and welcome to your new environment', description='Suspicious link', labels=['New'])"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Checking missing card: <built-in method title of str object at 0x7f1bbb82c670>","time":{"start":1766998249463,"stop":1766998249463,"duration":0},"status":"passed","steps":[{"name":"Soft Assert Failed: [MISSING CARD] 'schedule some time for 1:1' exists...","time":{"start":1766998249463,"stop":1766998249463,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"c8ebc701fc557f1","name":"Failure Details","source":"c8ebc701fc557f1.txt","type":"text/plain","size":78}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"expected","value":"CardModal(title='schedule some time for 1:1', description='Should take about 1 hour', labels=['New'])"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Soft Assert Failed: CONTENT MISMATCH in 'read the policies': Expected ...","time":{"start":1766998249463,"stop":1766998249464,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"44283e44075fac9f","name":"Failure Details","source":"44283e44075fac9f.txt","type":"text/plain","size":96}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":20,"shouldDisplayMessage":false,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Step 2: Verify Trello Board Integrity (No Duplicates/Dirty Data)","time":{"start":1766998249464,"stop":1766998249464,"duration":0},"status":"passed","steps":[{"name":"Soft Assert Failed: [BUG - DIRTY DATA] Found invalid card: 'Task: Have...","time":{"start":1766998249464,"stop":1766998249464,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"902e3666118b3a67","name":"Failure Details","source":"902e3666118b3a67.txt","type":"text/plain","size":91}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"192a84e99b27e5d2","name":"log","source":"192a84e99b27e5d2.txt","type":"text/plain","size":1964},{"uid":"e781a4b59a02b5b8","name":"stdout","source":"e781a4b59a02b5b8.txt","type":"text/plain","size":2206}],"parameters":[],"stepsCount":23,"shouldDisplayMessage":true,"attachmentsCount":16,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"soft_assert::0","time":{"start":1766998249469,"stop":1766998249470,"duration":1},"status":"failed","statusMessage":"AssertionError: Soft Assert failed with 14 errors. Check Allure report or logs for details.\n","statusTrace":"  File \"/usr/local/lib/python3.10/dist-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/dist-packages/_pytest/fixtures.py\", line 924, in _teardown_yield_fixture\n    next(it)\n  File \"/app/conftest.py\", line 30, in soft_assert\n    asserter.assert_all()\n  File \"/app/infra/utils/soft_assert.py\", line 44, in assert_all\n    raise AssertionError(f\"Soft Assert failed with {error_count} errors. Check Allure report or logs for details.\")\n","steps":[],"attachments":[{"uid":"95e99a2d45b1326b","name":"Full Failure Report","source":"95e99a2d45b1326b.txt","type":"text/plain","size":1270}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_sync_logic"},{"name":"subSuite","value":"TestGmailTrelloSync"},{"name":"host","value":"c8298226611a"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_sync_logic"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"b71b5622ec53a46.json","parameterValues":[]}